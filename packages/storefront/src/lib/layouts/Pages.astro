---
import type { PageContext } from '@@storefront/ssr-context';
import Base from '@@storefront/layouts/Base.astro';
import Header, { Props as HeaderProps } from '@@storefront/layouts/PagesHeader.astro';

export interface Props {
  pageContext: PageContext;
  title?: string;
  headerProps?: HeaderProps;
}

const { pageContext, title, headerProps } = Astro.props as Props;
---

<Base pageContext={pageContext} title={title}>
  <Fragment slot="before-head-end">
    <slot name="before-head-end" />
  </Fragment>
  <slot name="header">
    <Header pageContext={pageContext} {...headerProps} />
  </slot>
  <slot />
  <Fragment slot="before-body-end">
    <slot name="before-body-end" />
  </Fragment>
</Base>
